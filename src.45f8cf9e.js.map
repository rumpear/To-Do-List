{"version":3,"sources":["app.js","index.js"],"names":["form","document","querySelector","todoList","onSubmit","e","preventDefault","value","currentTarget","elements","input","trim","createData","renderTodo","reset","alert","checkLocalStorageOnEmptyArr","localStorage","getItem","todoArr","getDataFromLocalStorage","JSON","parse","setDataToLocalStorage","setItem","stringify","createId","listID","alphabet","i","charAt","Math","floor","random","length","id","join","push","text","isComplete","innerHTML","forEach","createMarkup","enableDeleteBtn","enableCheckedBtn","removeDataFromLocalStorage","todo","indexOfTodo","indexOf","console","log","splice","markup","querySelectorAll","btn","addEventListener","deleteTodo","item","parentNode","remove","innerText","textToDelete","textContent","split","checkedTodo","target","btnId","map"],"mappings":";;;AACA,MAAMA,EAAOC,SAASC,cAAc,QAC9BC,EAAWF,SAASC,cAAc,cAQxC,SAASE,EAASC,GAChBA,EAAEC,iBACIC,MAAAA,EAAQF,EAAEG,cAAcC,SAASC,MAAMH,MAAMI,OAE9CJ,GAKLK,EAAWL,GACXM,IAEAb,EAAKc,SAPHC,MAAM,kBAYV,SAASC,IACH,IAACC,aAAaC,QAAQ,QAChBC,OAAAA,QAAU,GAItB,SAASC,IACHH,GAAAA,aAAaC,QAAQ,QACfC,OAAAA,QAAUE,KAAKC,MAAML,aAAaC,QAAQ,SAItD,SAASK,EAAsBJ,GAC7BF,aAAaO,QAAQ,OAAQH,KAAKI,UAAUN,IAG9C,SAASO,IACDC,MAAAA,EAAS,GACTC,EAAW,iEAEZ,IAAA,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IACtBF,EAAOE,GAAKD,EAASE,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,EAASM,SAG1DC,OAAAA,GAAKR,EAAOS,KAAK,IAG3B,SAASxB,EAAWL,GAClBS,IACAI,IAEAD,QAAQkB,KAAK,CACXF,GAAIT,IACJY,KAAM/B,EACNgC,YAAY,IAGdhB,EAAsBJ,SAKxB,SAASN,IAGH,GAFJV,EAASqC,UAAY,IAEhBvB,aAAaC,QAAQ,QACxB,OAGgBE,IAERqB,QAAQ,EAAGH,KAAAA,EAAMC,WAAAA,EAAYJ,GAAAA,MACrCO,EAAaJ,EAAMC,EAAYJ,KAGjCQ,IACAC,IAGF,SAASC,EAA2BC,GAC9B,IAAC7B,aAAaC,QAAQ,QACxB,OAGEC,IAAAA,EAGE4B,MAAAA,GAFN5B,EAAUE,KAAKC,MAAML,aAAaC,QAAQ,UAEd8B,QAAQF,GACpCG,QAAQC,IAAIH,GAEZ5B,EAAQgC,OAAOJ,EAAa,GAE5B9B,aAAaO,QAAQ,OAAQH,KAAKI,UAAUN,IAG9C,SAASuB,EAAanC,EAAOgC,EAAYJ,GACjCiB,MAAAA,8BACiBb,EAAa,UAAY,SAAShC,uCACxB4B,yEACAA,kDAIjChC,EAASqC,WAAaY,EAGxB,SAAST,IACW1C,SAASoD,iBAAiB,eAClCZ,QAAQa,IAChBA,EAAIC,iBAAiB,QAASC,GAC9BP,QAAQC,IAAII,EAAI/C,SAIpB,SAASiD,EAAWnD,GACZoD,MAAAA,EAAOpD,EAAEG,cAEfiD,EAAKC,WAAWC,SAEhBV,QAAQC,IAAIO,GACZR,QAAQC,IAAIO,EAAKC,YACjBT,QAAQC,IAAIO,EAAKC,WAAWE,WAEtBC,MAAAA,EAAeJ,EAAKC,WAAWI,YAAYC,MAAM,MAAM,GAC7Dd,QAAQC,IAAIW,GAEZhB,EAA2BgB,GAG7B,SAASjB,IACY3C,SAASoD,iBAAiB,cAClCZ,QAAQa,IACjBA,EAAIC,iBAAiB,QAASlD,IAC5B2D,EAAY3D,EAAE4D,OAAO1D,WAK3B,SAASyD,EAAYE,GACdjD,aAAaC,QAAQ,QAIxBC,QAAUE,KAAKC,MAAML,aAAaC,QAAQ,UAH1CC,QAAU,GACV8B,QAAQC,IAAI/B,UAKdA,QAAQgD,IAAIV,IACNA,EAAKtB,KAAO+B,KACU,IAApBT,EAAKlB,WACPkB,EAAKlB,YAAa,EAElBkB,EAAKlB,YAAa,KAKxBtB,aAAaO,QAAQ,OAAQH,KAAKI,UAAUN,UAE5CN,IAjKFA,IAIAb,EAAKuD,iBAAiB,SAAUnD;;ACPhC,aADA,QAAA,oBACA,QAAA","file":"src.45f8cf9e.js","sourceRoot":"../src","sourcesContent":["// * refs\nconst form = document.querySelector('form');\nconst todoList = document.querySelector('.todo-list');\n\nrenderTodo();\n\n// let todoArr;\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const value = e.currentTarget.elements.input.value.trim();\n\n  if (!value) {\n    alert('Введите данные');\n    return;\n  }\n\n  createData(value);\n  renderTodo();\n\n  form.reset();\n}\n\n// * localStorage\n\nfunction checkLocalStorageOnEmptyArr() {\n  if (!localStorage.getItem('toDo')) {\n    return (todoArr = []);\n  }\n}\n\nfunction getDataFromLocalStorage() {\n  if (localStorage.getItem('toDo')) {\n    return (todoArr = JSON.parse(localStorage.getItem('toDo')));\n  }\n}\n\nfunction setDataToLocalStorage(todoArr) {\n  localStorage.setItem('toDo', JSON.stringify(todoArr));\n}\n\nfunction createId() {\n  const listID = [];\n  const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < 10; i++) {\n    listID[i] = alphabet.charAt(Math.floor(Math.random() * alphabet.length));\n  }\n\n  return (id = listID.join(''));\n}\n\nfunction createData(value) {\n  checkLocalStorageOnEmptyArr();\n  getDataFromLocalStorage();\n\n  todoArr.push({\n    id: createId(),\n    text: value,\n    isComplete: false,\n  });\n\n  setDataToLocalStorage(todoArr);\n\n  // localStorage.setItem('toDo', JSON.stringify(todoArr));\n}\n\nfunction renderTodo() {\n  todoList.innerHTML = '';\n\n  if (!localStorage.getItem('toDo')) {\n    return;\n  }\n\n  const todoItems = getDataFromLocalStorage();\n\n  todoItems.forEach(({ text, isComplete, id }) => {\n    createMarkup(text, isComplete, id);\n  });\n\n  enableDeleteBtn();\n  enableCheckedBtn();\n}\n\nfunction removeDataFromLocalStorage(todo) {\n  if (!localStorage.getItem('toDo')) {\n    return;\n  }\n\n  let todoArr;\n  todoArr = JSON.parse(localStorage.getItem('toDo'));\n\n  const indexOfTodo = todoArr.indexOf(todo);\n  console.log(indexOfTodo);\n\n  todoArr.splice(indexOfTodo, 1);\n\n  localStorage.setItem('toDo', JSON.stringify(todoArr));\n}\n\nfunction createMarkup(value, isComplete, id) {\n  const markup = `\n  <li class=\"todo-item ${isComplete ? 'checked' : null}\">${value}\n    <button type=\"button\" value=\"${id}\" class=\"check-btn\">Check</button>\n    <button type=\"button\" value=\"${id}\" class=\"delete-btn\">Del</button>\n  </li>\n  `;\n\n  todoList.innerHTML += markup;\n}\n\nfunction enableDeleteBtn() {\n  const deleteBtn = document.querySelectorAll('.delete-btn');\n  deleteBtn.forEach(btn => {\n    btn.addEventListener('click', deleteTodo);\n    console.log(btn.value);\n  });\n}\n\nfunction deleteTodo(e) {\n  const item = e.currentTarget;\n  // const item = e.target;\n  item.parentNode.remove();\n\n  console.log(item);\n  console.log(item.parentNode);\n  console.log(item.parentNode.innerText);\n\n  const textToDelete = item.parentNode.textContent.split('\\n')[0];\n  console.log(textToDelete);\n\n  removeDataFromLocalStorage(textToDelete);\n}\n\nfunction enableCheckedBtn() {\n  const checkedBtn = document.querySelectorAll('.check-btn');\n  checkedBtn.forEach(btn => {\n    btn.addEventListener('click', e => {\n      checkedTodo(e.target.value);\n    });\n  });\n}\n\nfunction checkedTodo(btnId) {\n  if (!localStorage.getItem('toDo')) {\n    todoArr = [];\n    console.log(todoArr);\n  } else {\n    todoArr = JSON.parse(localStorage.getItem('toDo'));\n  }\n\n  todoArr.map(item => {\n    if (item.id === btnId) {\n      if (item.isComplete === true) {\n        item.isComplete = false;\n      } else {\n        item.isComplete = true;\n      }\n    }\n  });\n\n  localStorage.setItem('toDo', JSON.stringify(todoArr));\n\n  renderTodo();\n}\n","import './sass/main.scss';\nimport './app';\n// import './app copy 2';\n"]}
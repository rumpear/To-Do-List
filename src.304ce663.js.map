{"version":3,"sources":["app.js","index.js"],"names":["form","document","querySelector","todoList","onSubmit","e","preventDefault","value","currentTarget","elements","input","trim","createData","renderTodo","reset","alert","checkLocalStorageData","localStorage","getItem","todoArr","returnIfLocalStorageIsEmpty","getDataFromLocalStorage","JSON","parse","setDataToLocalStorage","arr","setItem","stringify","console","log","createId","listID","alphabet","i","charAt","Math","floor","random","length","id","join","push","text","isComplete","innerHTML","reverse","forEach","createMarkup","enableDeleteBtn","enableCheckedBtn","removeDataFromLocalStorage","todoID","filter","item","markup","querySelectorAll","btn","addEventListener","deleteTodo","target","ID","checkedTodo"],"mappings":";;;AACA,MAAMA,EAAOC,SAASC,cAAc,QAC9BC,EAAWF,SAASC,cAAc,cAuBxC,SAASE,EAASC,GAChBA,EAAEC,iBACIC,MAAAA,EAAQF,EAAEG,cAAcC,SAASC,MAAMH,MAAMI,OAE9CJ,GAKLK,EAAWL,GACXM,IAEAb,EAAKc,SAPHC,MAAM,kBAYV,SAASC,IACH,IAACC,aAAaC,QAAQ,QAChBC,OAAAA,QAAU,GAItB,SAASC,IACFH,aAAaC,QAAQ,QAK5B,SAASG,IACHJ,GAAAA,aAAaC,QAAQ,QACfC,OAAAA,QAAUG,KAAKC,MAAMN,aAAaC,QAAQ,SAItD,SAASM,EAAsBC,GAC7BR,aAAaS,QAAQ,OAAQJ,KAAKK,UAAUF,IAC5CG,QAAQC,IAAIJ,GAGd,SAASK,IACDC,MAAAA,EAAS,GACTC,EAAW,iEAEZ,IAAA,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IACtBF,EAAOE,GAAKD,EAASE,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,EAASM,SAG1DC,OAAAA,GAAKR,EAAOS,KAAK,IAG3B,SAAS5B,EAAWL,GAClBS,IACAK,IAEAF,QAAQsB,KAAK,CACXF,GAAIT,IACJY,KAAMnC,EACNoC,YAAY,IAGdnB,EAAsBL,SAGxB,SAASN,IAGH,GAFJV,EAASyC,UAAY,IAEhB3B,aAAaC,QAAQ,QACxB,OAGgBG,IAERwB,UAAUC,QAAQ,EAAGJ,KAAAA,EAAMC,WAAAA,EAAYJ,GAAAA,MAC/CQ,EAAaL,EAAMC,EAAYJ,KAOjCS,IACAC,IAGF,SAASC,EAA2BC,GAMlC9B,IAEMI,MAAAA,EAAMN,QAAQiC,OAAOC,GAAQA,EAAKd,KAAOY,GAC/CvB,QAAQC,IAAIJ,GAUZD,EAAsBC,GAGxB,SAASsB,EAAaxC,EAAOoC,EAAYJ,GACjCe,MAAAA,8BACiBX,EAAa,qBAAuB,0CAC1BJ,6BACZI,EAAa,oBAAsB,mGAG1BpC,8CACGgC,wGAMjCpC,EAASyC,WAAaU,EAGxB,SAASN,IACW/C,SAASsD,iBAAiB,eAClCT,QAAQU,IAChBA,EAAIC,iBAAiB,QAASpD,IAC5BqD,EAAWrD,EAAEsD,OAAOpD,WAK1B,SAASmD,EAAWE,GAClBV,EAA2BU,GAC3B/C,IAGF,SAASoC,IACYhD,SAASsD,iBAAiB,cAClCT,QAAQU,IACjBA,EAAIC,iBAAiB,QAASpD,IAC5BwD,EAAYxD,EAAEsD,OAAOpD,WAK3B,SAASsD,EAAYD,GACnB5C,IACAK,IAEAF,QAAQ2B,QAAQO,IACVA,EAAKd,KAAOqB,KACU,IAApBP,EAAKV,WACPU,EAAKV,YAAa,EAElBU,EAAKV,YAAa,KAiBxBnB,EAAsBL,SACtBN,IAlLFA,IAEAb,EAAKyD,iBAAiB,SAAUrD;;ACtBhC,aADA,QAAA,oBACA,QAAA","file":"src.304ce663.js","sourceRoot":"../src","sourcesContent":["// * refs\nconst form = document.querySelector('form');\nconst todoList = document.querySelector('.todo-list');\n// const clearTasksBtn = document.querySelector('.clear-tasks-btn');\n\n// clearTasksBtn.addEventListener('click', () => {\n//   localStorage.removeItem('toDo');\n//   renderTodo();\n// });\n\n// addClearTasksBtn();\n\n// function addClearTasksBtn() {\n//   clearTasksBtn.hidden = true;\n//   if (todoArr.length >= 1) {\n//     clearTasksBtn.hidden = true;\n//   } else {\n//     clearTasksBtn.hidden = false;\n//   }\n// }\n\nrenderTodo();\n\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  const value = e.currentTarget.elements.input.value.trim();\n\n  if (!value) {\n    alert('Введите данные');\n    return;\n  }\n\n  createData(value);\n  renderTodo();\n\n  form.reset();\n}\n\n// * localStorage\n\nfunction checkLocalStorageData() {\n  if (!localStorage.getItem('toDo')) {\n    return (todoArr = []);\n  }\n}\n\nfunction returnIfLocalStorageIsEmpty() {\n  if (!localStorage.getItem('toDo')) {\n    return;\n  }\n}\n\nfunction getDataFromLocalStorage() {\n  if (localStorage.getItem('toDo')) {\n    return (todoArr = JSON.parse(localStorage.getItem('toDo')));\n  }\n}\n\nfunction setDataToLocalStorage(arr) {\n  localStorage.setItem('toDo', JSON.stringify(arr));\n  console.log(arr);\n}\n\nfunction createId() {\n  const listID = [];\n  const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (let i = 0; i < 10; i++) {\n    listID[i] = alphabet.charAt(Math.floor(Math.random() * alphabet.length));\n  }\n\n  return (id = listID.join(''));\n}\n\nfunction createData(value) {\n  checkLocalStorageData();\n  getDataFromLocalStorage();\n\n  todoArr.push({\n    id: createId(),\n    text: value,\n    isComplete: false,\n  });\n\n  setDataToLocalStorage(todoArr);\n}\n\nfunction renderTodo() {\n  todoList.innerHTML = '';\n\n  if (!localStorage.getItem('toDo')) {\n    return;\n  }\n\n  const todoItems = getDataFromLocalStorage();\n\n  todoItems.reverse().forEach(({ text, isComplete, id }) => {\n    createMarkup(text, isComplete, id);\n  });\n\n  // todoItems.forEach(({ text, isComplete, id }) => {\n  //   createMarkup(text, isComplete, id);\n  // });\n\n  enableDeleteBtn();\n  enableCheckedBtn();\n}\n\nfunction removeDataFromLocalStorage(todoID) {\n  // if (!localStorage.getItem('toDo')) {\n  //   return;\n  // }\n  // returnIfLocalStorageIsEmpty();\n\n  getDataFromLocalStorage();\n\n  const arr = todoArr.filter(item => item.id !== todoID);\n  console.log(arr);\n\n  // const indexOfTodo = todoArr.map(item => {\n  //   console.log(item.id);\n  //   // item.indexOf(todoID);\n  // });\n  // indexOf(todoID);\n  // console.log(indexOfTodo);\n  // todoArr.splice(indexOfTodo, 1);\n\n  setDataToLocalStorage(arr);\n}\n\nfunction createMarkup(value, isComplete, id) {\n  const markup = `\n  <li class=\"todo-item ${isComplete ? 'todo-item--checked' : ''}\">\n    <button type=\"button\" value=\"${id}\" \n    class=\"check-btn ${isComplete ? 'check-btn--active' : ''}\">\n      <i class=\"fas fa-solid fa-check\"></i>\n    </button>\n      <span class=\"todo-text\">${value}</span>\n    <button type=\"button\" value=\"${id}\" class=\"delete-btn\">\n      <i class=\"fas fa-times btn delete-btn\"></i>\n    </button>\n  </li>\n  `;\n\n  todoList.innerHTML += markup;\n}\n\nfunction enableDeleteBtn() {\n  const deleteBtn = document.querySelectorAll('.delete-btn');\n  deleteBtn.forEach(btn => {\n    btn.addEventListener('click', e => {\n      deleteTodo(e.target.value);\n    });\n  });\n}\n\nfunction deleteTodo(ID) {\n  removeDataFromLocalStorage(ID);\n  renderTodo();\n}\n\nfunction enableCheckedBtn() {\n  const checkedBtn = document.querySelectorAll('.check-btn');\n  checkedBtn.forEach(btn => {\n    btn.addEventListener('click', e => {\n      checkedTodo(e.target.value);\n    });\n  });\n}\n\nfunction checkedTodo(ID) {\n  checkLocalStorageData();\n  getDataFromLocalStorage();\n\n  todoArr.forEach(item => {\n    if (item.id === ID) {\n      if (item.isComplete === true) {\n        item.isComplete = false;\n      } else {\n        item.isComplete = true;\n      }\n    }\n  });\n\n  // todoArr.map(({ id, isComplete }) => {\n  //   // console.log(id, isComplete, btnId);\n  //   console.log(id === ID);\n  //   if (id === btnId) {\n  //     if (isComplete === true) {\n  //       isComplete = false;\n  //       console.log(isComplete);\n  //     } else {\n  //       isComplete = true;\n  //     }\n  //   }\n  // });\n  setDataToLocalStorage(todoArr);\n  renderTodo();\n}\n","import './sass/main.scss';\nimport './app';\n// import './app copy 2';\n"]}